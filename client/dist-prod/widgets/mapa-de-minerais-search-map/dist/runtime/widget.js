System.register(["jimu-core","jimu-arcgis","esri/layers/FeatureLayer","esri/widgets/Legend","esri/renderers/ClassBreaksRenderer","esri/symbols/SimpleMarkerSymbol"],(function(e,o){var t={},i={},a={},r={},s={},n={};return{setters:[function(e){t.Global=e.Global,t.React=e.React,t.css=e.css,t.jsx=e.jsx},function(e){i.JimuMapViewComponent=e.JimuMapViewComponent},function(e){a.default=e.default},function(e){r.default=e.default},function(e){s.default=e.default},function(e){n.default=e.default}],execute:function(){e((()=>{var e={633:e=>{"use strict";e.exports=a},841:e=>{"use strict";e.exports=s},417:e=>{"use strict";e.exports=n},828:e=>{"use strict";e.exports=r},686:e=>{"use strict";e.exports=i},244:e=>{"use strict";e.exports=t}},o={};function l(t){var i=o[t];if(void 0!==i)return i.exports;var a=o[t]={exports:{}};return e[t](a,a.exports,l),a.exports}l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var c={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(c),l.d(c,{__set_webpack_public_path__:()=>ie,default:()=>te});var e=l(244),o=l(686),t=l(633),i=l(828),a=l(841),r=l(417),s=function(e,o,t,i){return new(t||(t=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function n(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var o;e.done?a(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(s,n)}l((i=i.apply(e,o||[])).next())}))};const n={lateral:"rgba(88, 19, 252, 0.7)",testemunho:"rgba(255, 0, 255, 0.7)",calha:"rgba(245, 201, 38, 0.7)",plug:"rgba(125, 253, 148, 0.7)","whole core":"rgba(255, 43, 24, 0.7)"};function d(e){return s(this,arguments,void 0,(function*({jimuMapView:e,dados:o,colorFill:s,idCamada:n,idLegenda:l,titleLegenda:c}){var d;console.groupCollapsed(`[dist-eb] gerarMapaDistribuicaoEB id=${n}`),console.time(`[dist-eb] tempo-total ${n}`);try{const l=e.view,u=l.map;if(console.log("[dist-eb] qtd dados",o.length,o.slice(0,10)),!Array.isArray(o)||0===o.length)return void console.warn("[dist-eb] sem dados -> n\xe3o cria camada");const g=o.map((e=>Number(e.codigoPoco))).filter((e=>Number.isFinite(e))).join(",");if(!g)return void console.warn("[dist-eb] lista de c\xf3digos vazia ap\xf3s normaliza\xe7\xe3o");const m=`POCO_CD_POCO IN (${g})`;console.log("[dist-eb] definitionExpression",m);const p=new t.default({url:"https://basegis.petrobras.com.br/arcgis/rest/services/EXPLORA/Feature_Pocos/MapServer/0",definitionExpression:m,title:"Po\xe7os (base)",outFields:["*"],visible:!1});console.time("[dist-eb] load camadaPo\xe7os"),yield p.load(),console.timeEnd("[dist-eb] load camadaPo\xe7os");const v=p.objectIdField||"OBJECTID";console.log("[dist-eb] objectIdField do servi\xe7o:",v),console.time("[dist-eb] queryFeatures");const f=yield p.queryFeatures({where:m,outFields:["*"],returnGeometry:!0});console.timeEnd("[dist-eb] queryFeatures"),console.log("[dist-eb] features retornadas",f.features.length);const h=f.features.map((e=>{const t=Number(e.attributes.POCO_CD_POCO),i=o.find((e=>e.codigoPoco===t)),a=i?Number(i.total):0;return e.attributes.POCO_MD_MERID_CENT=a,e.attributes.md_val=0,e})),b=o.map((e=>Number(e.total))).filter((e=>Number.isFinite(e)));let y=Math.min(...b),w=Math.max(...b);console.log("[dist-eb] min/max antes",{min:y,max:w});const x=[],M={color:"black",width:"1px"};if(!Number.isFinite(y)||!Number.isFinite(w))return void console.warn("[dist-eb] valores inv\xe1lidos -> n\xe3o cria camada");if(0===y&&0===w)x.push({minValue:0,maxValue:0,label:"N\xe3o h\xe1 dados suficientes",symbol:new r.default({color:"rgba(255,255,255,0)",size:0,style:"circle",outline:M})});else{const e=b.filter((e=>0===e)).length,o=b.filter((e=>e>0));console.log("[dist-eb] zerados/naoZerados",{zerados:e,naoZerados:o.length}),e>0&&x.push({minValue:0,maxValue:0,label:`| 0 | (${e} po\xe7o${e>1?"s":""})`,symbol:new r.default({color:"rgba(200,200,200,0.3)",size:6,style:"circle",outline:M})}),y=Math.max(1,y);const t=o.length,i=Math.max(2,Math.round(1+3.3*Math.log10(t||1))),a=Math.ceil((w-y+1)/Math.max(1,i)),n=40;console.log("[dist-eb] classes",{numClasses:i,breaks:a,maxSize:n});for(let e=0;e<i;e++){const t=y+e*a,l=y+(e+1)*a-1;if(t>w)break;const c=o.filter((e=>e>=t&&e<=l)).length,d=`${t} |---| ${l} (${c} po\xe7o${c>1?"s":""})`,u=6+e*(n/i);x.push({minValue:t,maxValue:l,label:d,symbol:new r.default({color:s,size:u,style:"circle",outline:M})})}}const E=new a.default({field:"POCO_MD_MERID_CENT",classBreakInfos:x}),A=[...p.fields.filter((e=>"POCO_MD_MERID_CENT"!==(null==e?void 0:e.name)&&"md_val"!==(null==e?void 0:e.name))),{name:"POCO_MD_MERID_CENT",alias:"Valor (Minerais/Amostras)",type:"double"},{name:"md_val",alias:"Valor Agrupador",type:"double"}],R=u.findLayerById(n);R&&(console.log("[dist-eb] remove camada existente",n),u.remove(R));const P=new t.default({id:n,source:h,fields:A,objectIdField:v,geometryType:"point",spatialReference:null!==(d=l.spatialReference)&&void 0!==d?d:{wkid:102100},renderer:E,title:c,listMode:"hide",featureReduction:{type:"cluster",clusterMinSize:18,clusterMaxSize:48,labelsVisible:!1}});u.add(P),console.log("[dist-eb] camada adicionada",n,"features:",h.length);new i.default({view:l,layerInfos:[{layer:P,title:c}]})}catch(e){console.error("[dist-eb] ERRO ao gerarMapaDistribuicaoEB",e)}finally{console.timeEnd(`[dist-eb] tempo-total ${n}`),console.groupEnd()}}))}var u=function(e,o,t,i){return new(t||(t=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function n(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var o;e.done?a(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(s,n)}l((i=i.apply(e,o||[])).next())}))};const g=[{value:"DRX-TOT",label:"DRX-Total"},{value:"DRX-ARG",label:"DRX-Argilominerais"},{value:"MASSA",label:"Qemscan-Massa"},{value:"AREA",label:"Qemscan-\xc1rea"},{value:"todasAnalises",label:"Todas as An\xe1lises"}];function m(e,o,t,i){return console.groupCollapsed(`[minerals] postViaParent -> ${e}`),console.log("[minerals] body",o),new Promise(((a,r)=>{var s;const n=Math.random().toString(36).slice(2);let l="*";try{document.referrer&&(l=new URL(document.referrer).origin)}catch(e){}console.log("[minerals] targetOrigin",l,"reqId",n);const c=e=>{const o=e.data||{};o.reqId===n&&(console.log("[minerals] resposta recebida",o.type,o),clearTimeout(d),window.removeEventListener("message",c),o.type===t?(console.groupEnd(),a(o.payload)):o.type===i?(console.groupEnd(),r(new Error(o.message||"Erro no fetch via parent"))):(console.warn("[minerals] tipo inesperado",o.type),r(new Error("Resposta desconhecida do pai"))))};window.addEventListener("message",c);const d=window.setTimeout((()=>{window.removeEventListener("message",c),console.warn("[minerals] TIMEOUT aguardando resposta do pai",{type:e,okType:t,errType:i,reqId:n}),console.groupEnd(),r(new Error("Timeout aguardando resposta do pai (minerais)"))}),2e4);null===(s=window.parent)||void 0===s||s.postMessage({type:e,body:o,reqId:n},l)}))}function p(e,o){return u(this,void 0,void 0,(function*(){const t=function(e,o){const t=new URLSearchParams;return t.set("hdSys","novaintcons"),t.set("hdUC","Mapa"),t.set("hdAcao","CarregarMapaDistribuicaoMineraisContador"),t.set("hdSessionFilter","true"),t.set("tipoAnalise",e),t.set("faixaInteresse",String(!!o)),t.toString()}(e,o),i=yield m("fetchDistribuicaoMinerais",t,"fetchDistribuicaoMinerais:ok","fetchDistribuicaoMinerais:err"),a=(r=i,(Array.isArray(r)?r:[]).map((e=>{var o,t,i,a,r,s;return{codigoPoco:Number(null!==(a=null!==(i=null!==(t=null!==(o=e.codigoPoco)&&void 0!==o?o:e.POCO_CD_POCO)&&void 0!==t?t:e.poco)&&void 0!==i?i:e.codigo)&&void 0!==a?a:0),totalMinerais:Number(null!==(s=null!==(r=e.totalMinerais)&&void 0!==r?r:e.total)&&void 0!==s?s:0)}})).filter((e=>!!e.codigoPoco)));var r;return console.log("[minerals] contador normalizado",a.length,a.slice(0,10)),a}))}function v(e,o){return u(this,void 0,void 0,(function*(){const t=function(e,o){const t=new URLSearchParams;return t.set("hdSys","novaintcons"),t.set("hdUC","Mapa"),t.set("hdAcao","CarregarMapaDistribuicaoMineraisLista"),t.set("hdSessionFilter","true"),t.set("tipoAnalise",e),t.set("faixaInteresse",String(!!o)),t.toString()}(e,o),i=yield m("fetchDistribuicaoMinerais",t,"fetchDistribuicaoMinerais:ok","fetchDistribuicaoMinerais:err"),a=(r=i,(Array.isArray(r)?r:[]).map((e=>{var o,t,i,a,r;return{nomeMineral:String(null!==(i=null!==(t=null!==(o=e.nomeMineral)&&void 0!==o?o:e.nome)&&void 0!==t?t:e.mineral)&&void 0!==i?i:"").trim(),nomeResumidoMineral:null!==(r=null!==(a=e.nomeResumidoMineral)&&void 0!==a?a:e.nomeResumido)&&void 0!==r?r:void 0}})).filter((e=>!!e.nomeMineral)));var r;return console.log("[minerals] lista normalizada",a.length,a.slice(0,10)),a}))}function f(e,o,t){return u(this,void 0,void 0,(function*(){const i=function(e,o,t){const i=new URLSearchParams;return i.set("hdSys","novaintcons"),i.set("hdUC","Mapa"),i.set("hdAcao","CarregarMapaDistribuicaoMineraisAgrupador"),i.set("hdSessionFilter","true"),i.set("tipoAnalise",e),o&&i.set("nomeResumidoMineral",o),i.set("faixaInteresse",String(!!t)),i.toString()}(e,o,t),a=yield m("fetchDistribuicaoMinerais",i,"fetchDistribuicaoMinerais:ok","fetchDistribuicaoMinerais:err"),r=(s=a,(Array.isArray(s)?s:[]).map((e=>{var o,t,i,a,r,s,n,l,c,d,u,g;return{codigoPoco:Number(null!==(a=null!==(i=null!==(t=null!==(o=e.codigoPoco)&&void 0!==o?o:e.POCO_CD_POCO)&&void 0!==t?t:e.poco)&&void 0!==i?i:e.codigo)&&void 0!==a?a:0),nomeResumido:null!==(s=null!==(r=e.nomeResumido)&&void 0!==r?r:e.nomeResumidoMineral)&&void 0!==s?s:void 0,qtAnalise:Number(null!==(l=null!==(n=e.qtAnalise)&&void 0!==n?n:e.total)&&void 0!==l?l:0),valorMedio:Number(null!==(d=null!==(c=e.valorMedio)&&void 0!==c?c:e.media)&&void 0!==d?d:0),valorMaximo:Number(null!==(g=null!==(u=e.valorMaximo)&&void 0!==u?u:e.maximo)&&void 0!==g?g:0)}})).filter((e=>!!e.codigoPoco)));var s;return console.log("[minerals] agrupador normalizado",r.length,r.slice(0,10)),r}))}const h=e=>`minerais_${String(e).toLowerCase()}`,b=e=>`lgd_${h(e)}`;function y(e){try{if(!e)return;e.featureReduction&&"cluster"===e.featureReduction.type&&(e.featureReduction=Object.assign(Object.assign({},e.featureReduction),{labelsVisible:!1})),"labelsVisible"in e&&(e.labelsVisible=!1),"labelingInfo"in e&&(e.labelingInfo=[]),Array.isArray(e.sublayers)&&e.sublayers.forEach((e=>y(e)))}catch(e){}}function w(e,o,t,i){console.groupCollapsed("[minerals] desenharDistribuicaoMinerais"),console.log("[minerals] tipoAnalise",t,"withInterest",i,"n dados",null==o?void 0:o.length);try{const{view:a}=e;if(!a||!Array.isArray(o)||0===o.length)return void console.warn("[minerals] view inexistente ou dados vazios");const r=o.map((e=>({codigoPoco:e.codigoPoco,total:e.totalMinerais})));console.log("[minerals] amostra dos pontos",r.slice(0,10));const s=h(t);d({jimuMapView:e,dados:r,colorFill:"rgb(253,142,55)",idCamada:s,idLegenda:b(t),titleLegenda:(i?"Intervalo de Interesse - ":"")+x(t),withInterest:i});const n=a.map.findLayerById(s);console.log("[minerals] layer criada?",!!n,n),n&&y(n)}catch(e){console.error("[minerals] ERRO desenharDistribuicaoMinerais",e)}finally{console.groupEnd()}}function x(e){var o;const t=g.find((o=>o.value===e));return null!==(o=null==t?void 0:t.label)&&void 0!==o?o:String(e)}var M=function(e,o,t,i){return new(t||(t=Promise))((function(a,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function n(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var o;e.done?a(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(s,n)}l((i=i.apply(e,o||[])).next())}))};const E=!1,A=360,R=50,P=10,I=650,C={lateral:"totalAmostrasLaterais",testemunho:"totalTestemunhos",calha:"totalCalhas",plug:"totalPlugs","whole core":"totalWholeCore"},S=Object.keys(C),k=e=>Math.log10?Math.log10(e):Math.log(e)/Math.LN10;function j(e){return console.groupCollapsed("[amostras] fetchViaParent"),console.log("[amostras] body",e),new Promise(((o,t)=>{var i;const a=Math.random().toString(36).slice(2);let r="*";try{document.referrer&&(r=new URL(document.referrer).origin)}catch(e){}const s="fetchDistribuicaoAmostras:ok",n="fetchDistribuicaoAmostras:err",l=e=>{const i=(null==e?void 0:e.data)||{};var r;if(i&&i.reqId===a)if(console.log("[amostras] resposta do pai",{receivedType:i.type,expectedOk:s,expectedErr:n,origin:e.origin,sameOrigin:e.origin===window.location.origin,reqId:a}),i.type===s){try{clearTimeout(c)}catch(e){}window.removeEventListener("message",l);const e=Array.isArray(i.payload)?i.payload.length:null;console.log("[amostras] OK \u2014 normalizando payload",{count:e,sample:Array.isArray(i.payload)?i.payload.slice(0,3):i.payload}),console.groupEnd(),o((r=i.payload,(Array.isArray(r)?r:[]).map((e=>{var o,t,i,a,r,s,n,l,c,d,u,g,m,p;return{codigoPoco:Number(null!==(a=null!==(i=null!==(t=null!==(o=e.codigoPoco)&&void 0!==o?o:e.POCO_CD_POCO)&&void 0!==t?t:e.poco)&&void 0!==i?i:e.codigo)&&void 0!==a?a:0),totalAmostrasLaterais:Number(null!==(s=null!==(r=e.totalAmostrasLaterais)&&void 0!==r?r:e.laterais)&&void 0!==s?s:0),totalCalhas:Number(null!==(l=null!==(n=e.totalCalhas)&&void 0!==n?n:e.calhas)&&void 0!==l?l:0),totalPlugs:Number(null!==(d=null!==(c=e.totalPlugs)&&void 0!==c?c:e.plugs)&&void 0!==d?d:0),totalTestemunhos:Number(null!==(g=null!==(u=e.totalTestemunhos)&&void 0!==u?u:e.testemunhos)&&void 0!==g?g:0),totalWholeCore:Number(null!==(p=null!==(m=e.totalWholeCore)&&void 0!==m?m:e.wholeCore)&&void 0!==p?p:0)}})).filter((e=>!!e.codigoPoco))))}else if(i.type===n){try{clearTimeout(c)}catch(e){}window.removeEventListener("message",l),console.warn("[amostras] ERRO do pai",i.message),console.groupEnd(),t(new Error(i.message||"Erro no fetch via parent"))}else console.warn("[amostras] ignorando mensagem com reqId v\xe1lido por\xe9m type inesperado:",i.type)};window.addEventListener("message",l);const c=window.setTimeout((()=>{window.removeEventListener("message",l),console.warn("[amostras] TIMEOUT aguardando resposta do pai",{reqId:a,expected:[s,n]}),console.groupEnd(),t(new Error("Timeout aguardando resposta do pai (amostras)"))}),2e4);null===(i=window.parent)||void 0===i||i.postMessage({type:"fetchDistribuicaoAmostras",body:e,reqId:a},r),console.log("[amostras] postMessage -> PAI",{type:"fetchDistribuicaoAmostras",targetOrigin:r,reqId:a})}))}function O(){return M(this,arguments,void 0,(function*(e=!1){const o=function(e){const o=new URLSearchParams;return o.set("hdSys","novaintcons"),o.set("hdUC","Mapa"),o.set("hdAcao","CarregarMapaDistribuicaoAmostrasContador"),o.set("hdSessionFilter","true"),o.set("faixaInteresse",String(!!e)),o.toString()}(e);return j(o)}))}const z=40,N=e.css`
  div[role='dialog'][aria-label='mapa-de-distribuicao'],
  div[role='dialog'][aria-label='mapa-de-distribuicao-v2'] {
    position: absolute !important;
    inset: ${R}px ${P}px auto auto !important;
    transform: none !important;
    z-index: 9999 !important;
    width: ${A}px !important;
    height: ${I}px !important;
    max-height: calc(100% - 24px) !important;
    overflow: visible !important;
  }
`,D=e.css`font-weight:600;margin:4px 0;font-size:.85rem;line-height:1.1;`,F=e.css`width:${z}px;height:${z}px;display:flex;align-items:center;justify-content:center;margin-right:8px;`,T=e.css`position:relative;width:100%;height:100%;background:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 4px 12px rgba(0,0,0,.1);padding:16px;overflow:hidden;`,L=e.css`font-weight:600;margin-bottom:4px;display:block;`,_=e.css`width:100%;padding:6px 8px;margin-bottom:12px;border:1px solid #ccc;border-radius:4px;`,V=e.css`
  overflow: visible;
  margin-bottom: 8px;
  padding: 4px;
  background: #fafafa;
  border: 1px solid #eee;
  border-radius: 4px;
  display: grid;
  grid-template-columns: repeat(2, minmax(140px, 1fr));
  grid-auto-rows: minmax(24px, auto);
  grid-auto-flow: row;
  column-gap: 4px;
  row-gap: 2px;
  align-items: start;
`,$=e.css`
  display: inline-grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  column-gap: 6px;
  padding: 1px 2px;
  border-radius: 3px;
  cursor: pointer;
  user-select: none;
  min-width: 0;
  box-sizing: border-box;
  overflow: hidden;

  & > * { margin: 0 !important; padding: 0 !important; }
  input[type='checkbox'], input[type='radio'] { width: 14px; height: 14px; margin: 0 !important; flex: 0 0 auto; }

  .lbl { min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: .84rem; line-height: 1.15; padding-bottom: 1px; }
`,q=e.css`
  overflow: visible;
  margin-bottom: 8px;
  padding: 4px;
  background: #fafafa;
  border: 1px solid #eee;
  border-radius: 4px;

  display: grid;
  grid-template-columns: minmax(140px, 1fr) minmax(140px, 1fr);
  grid-template-rows: repeat(3, minmax(24px, auto));
  column-gap: 4px;
  row-gap: 2px;
  align-items: start;

  /* DRX-Total (Row1, Col1) */
  label[data-key='DRX-TOT'] { grid-column: 1; grid-row: 1; }
  /* Qemscan-Massa (Row1, Col2) */
  label[data-key='MASSA']   { grid-column: 2; grid-row: 1; }
  /* DRX-Argilominerais (Row2, Col1) */
  label[data-key='DRX-ARG'] { grid-column: 1; grid-row: 2; }
  /* Qemscan-Área (Row2, Col2) */
  label[data-key='AREA']    { grid-column: 2; grid-row: 2; }
  /* "Todas as Análises" (Row3, ocupando 2 colunas) */
  label[data-key='todasAnalises'] { grid-column: 1 / span 2; grid-row: 3; }
`,U=e.css`max-height:300px;overflow-y:auto;margin-top:8px;padding:8px 8px 36px;background:#fff;border:1px solid #ddd;border-radius:4px;position:relative;`,W=e.css`display:flex;align-items:center;margin:2px;`,B=e.css`font-size:.78rem;line-height:1.1;`,X=e.css`position: sticky; bottom: 0; background: #fff; border-top: 1px solid #eee; padding: 4px 0; display: flex; flex-direction: column; align-items: flex-start; gap: 6px;`,G=e.css`display:flex;align-items:center;gap:6px;padding-left:.5em;cursor:pointer;font-size:.9rem;`,J=G;function Q(e,o){const t=e.map((e=>Number(e.total)||0));let i=Math.min(...t),a=Math.max(...t);const r=[];if(!isFinite(i)||!isFinite(a))return r;if(0===i&&0===a)r.push({label:"N\xe3o h\xe1 dados suficientes",size:0,cor:o,count:0});else{const e=t.filter((e=>0===e)).length,s=t.filter((e=>e>0));e>0&&r.push({label:`| 0 | (${e} po\xe7o${e>1?"s":""})`,size:6,cor:"rgba(200,200,200,0.3)",count:e}),i=1;const n=s.length,l=Math.max(2,Math.round(1+3.3*k(n||1))),c=Math.ceil((a-i+1)/Math.max(1,l)),d=z;for(let e=0;e<l;e++){const t=i+e*c,n=i+(e+1)*c-1;if(t>a)break;const u=s.filter((e=>e>=t&&e<=n)).length,g=`${t} |---| ${n} (${u} po\xe7o${u>1?"s":""})`,m=6+e*(d/l);r.push({label:g,size:m,cor:o,count:u})}}return r}function Y(e){var o;let t=e;for(;t;){if(t.getAttribute&&"dialog"===t.getAttribute("role"))return t;t=null!==(o=null==t?void 0:t.parentElement)&&void 0!==o?o:null}return null}function Z(e){const o=getComputedStyle(e);return"true"===e.getAttribute("aria-hidden")||"none"===o.display||"hidden"===o.visibility}let K=!1;function H(e){if(!K){K=!0;try{const o=e.style;"absolute"!==o.getPropertyValue("position")&&o.setProperty("position","absolute","important"),o.removeProperty("left"),o.removeProperty("bottom"),o.removeProperty("transform"),o.setProperty("inset","auto auto auto auto"),o.setProperty("top",`${R}px`,"important"),o.setProperty("right",`${P}px`,"important"),o.getPropertyValue("width")!==`${A}px`&&o.setProperty("width",`${A}px`,"important"),o.getPropertyValue("height")!==`${I}px`&&o.setProperty("height",`${I}px`,"important"),"calc(100% - 24px)"!==o.getPropertyValue("max-height")&&o.setProperty("max-height","calc(100% - 24px)","important"),"visible"!==o.getPropertyValue("overflow")&&o.setProperty("overflow","visible","important"),"9999"!==o.getPropertyValue("z-index")&&o.setProperty("z-index","9999","important")}finally{K=!1}}}const ee=e=>`amostras_${e.replace(/\s+/g,"_")}`;function oe(e){try{if(!e)return;e.featureReduction&&"cluster"===e.featureReduction.type&&(e.featureReduction=Object.assign(Object.assign({},e.featureReduction),{labelsVisible:!1})),"labelsVisible"in e&&(e.labelsVisible=!1),"labelingInfo"in e&&(e.labelingInfo=[]),Array.isArray(e.sublayers)&&e.sublayers.forEach((e=>oe(e)))}catch(e){}}function te(t){var i;const[a,r]=e.React.useState(),[s,l]=e.React.useState(""),[c,m]=e.React.useState([]),[b,y]=e.React.useState(!1),[A,I]=e.React.useState(!1),[k,j]=e.React.useState(!1),[z,te]=e.React.useState((()=>new Set((Array.isArray(null==t?void 0:t.codigosFaixaInteresse)?t.codigosFaixaInteresse:[]).map((e=>Number(e))).filter((e=>!isNaN(e)))))),[ie,ae]=e.React.useState(null),[re,se]=e.React.useState(null),[ne,le]=e.React.useState(""),[ce,de]=e.React.useState([]),[ue,ge]=e.React.useState(""),[me,pe]=e.React.useState(null),[ve,fe]=e.React.useState(""),[he,be]=e.React.useState(null),[ye,we]=e.React.useState(!1),[xe,Me]=e.React.useState(""),[Ee,Ae]=e.React.useState(!1),[Re,Pe]=e.React.useState(!1),[Ie,Ce]=e.React.useState(""),[Se,ke]=e.React.useState(""),je=e.React.useRef(null);!function(o){e.React.useEffect((()=>{let e=null;const t=()=>{const t=o.current&&o.current.closest('[role="dialog"]')||document.querySelector('div[role="dialog"][aria-label="mapa-de-distribuicao-v2"]')||document.querySelector('div[role="dialog"][aria-label="mapa-de-distribuicao"]');if(!t)return;H(t);const i=new MutationObserver((e=>{if(!K&&e.some((e=>"style"===e.attributeName))){const e=t.style;("absolute"!==e.getPropertyValue("position")||e.getPropertyValue("top")!==`${R}px`||e.getPropertyValue("right")!==`${P}px`||e.transform&&"none"!==e.transform)&&H(t)}}));let a;i.observe(t,{attributes:!0,attributeFilter:["style"]});const r=()=>{clearTimeout(a),a=setTimeout((()=>H(t)),80)};window.addEventListener("resize",r),e=()=>{i.disconnect(),window.removeEventListener("resize",r)}};return requestAnimationFrame(t),setTimeout(t,80),setTimeout(t,300),()=>{null==e||e()}}),[o])}(je);const Oe=e.React.useRef(!1);e.React.useEffect((()=>{var e;let o="*";try{document.referrer&&(o=new URL(document.referrer).origin)}catch(e){}null===(e=window.parent)||void 0===e||e.postMessage({type:"widgetReady"},o),console.log("[widget] widgetReady enviado para",o)}),[]),e.React.useEffect((()=>{console.log("[widget][msg] listener ON \u2014 aguardando mensagens do pai\u2026",{selfOrigin:window.location.origin,referrer:document.referrer||"(sem referrer)"});const e=e=>{const o=null==e?void 0:e.data;if(o&&o.type){if(console.groupCollapsed(`[widget][msg] recebido type="${o.type}"`),console.log("origin:",e.origin,"source===parent?",e.source===window.parent),console.log("payload bruto:",o),"faixa-interesse"===o.type&&Array.isArray(o.codigosPocos)){const e=o.codigosPocos.map((e=>Number(e))).filter((e=>!isNaN(e)));return console.log("[widget][msg] faixa-interesse => normalizados:",{recebidos:o.codigosPocos.length,validos:e.length,preview:e.slice(0,10)}),console.log("[widget][msg] estado ANTES (faixa-interesse):",{showWithInterest:k,withInterest:A,interestManual:Oe.current}),te(new Set(e)),e.length>0?(console.log("[widget][msg] haver\xe1 tentativa de exibir/checar o intervalo (dependendo do outro efeito e do manualRef)"),j(!0),Oe.current?console.log("[widget][msg] N\xc3O marcamos withInterest (usu\xe1rio j\xe1 mexeu manualmente)"):(console.log("[widget][msg] marcando withInterest automaticamente (usu\xe1rio ainda n\xe3o alterou manualmente)"),I(!0))):console.log("[widget][msg] lista da faixa est\xe1 vazia \u2014 n\xe3o alteramos withInterest"),setTimeout((()=>{console.log("[widget][msg] estado AP\xd3S setState (faixa-interesse):",{showWithInterest:k,withInterest:A,interestManual:Oe.current})}),0),void console.groupEnd()}if("fetchDistribuicaoAmostras:ok"===o.type){const e=o;return console.log("[widget][msg] fetchDistribuicaoAmostras:ok recebida:",e),I(e.message.visible),j(e.message.visible),console.log("[widget][msg] estado ANTES (fetchDistribuicaoAmostras:ok):",{showWithInterest:k,withInterest:A,interestManual:Oe.current}),e.startWithInterest?(console.log("[widget][msg] pai sinalizou startWithInterest=TRUE -> mostrar checkbox"),j(!0),Oe.current?console.log("[widget][msg] N\xc3O marcamos withInterest (respeitando escolha manual pr\xe9via)"):(console.log("[widget][msg] marcando withInterest porque usu\xe1rio n\xe3o mexeu manualmente"),I(!0))):console.log("[widget][msg] startWithInterest ausente/falso \u2014 n\xe3o for\xe7amos nada aqui"),setTimeout((()=>{console.log("[widget][msg] estado AP\xd3S setState (fetchDistribuicaoAmostras:ok):",{showWithInterest:k,withInterest:A,interestManual:Oe.current})}),0),void console.groupEnd()}if("legend:minerais"===o.type||"fetchDistribuicaoMinerais:ok"===o.type){const e=o;return console.log("[widget][msg] legend:minerais payload:",null==e?void 0:e.payload),void console.groupEnd()}if(console.log("TESTE: ",o),"config"===o.type||"fetchDistribuicaoMinerais:ok"===o.type){const e=o;return console.log("[widget][msg] config recebida:",e),console.log("[widget][msg] **cgVisible do pai** =",e.cgVisible),!0===e.cgVisible?(j(!0),e.startWithInterest&&!Oe.current&&I(!0)):(j(!1),Oe.current||I(!1)),setTimeout((()=>{console.log("[widget][msg] estado p\xf3s-config:",{showWithInterest:k,withInterest:A,interestManual:Oe.current})}),0),void console.groupEnd()}console.log("[widget][msg] tipo n\xe3o tratado:",o.type),console.groupEnd()}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e),console.log("[widget][msg] listener OFF \u2014 removido na desmontagem do efeito")}}),[]),e.React.useEffect((()=>{z.size>0&&(j(!0),Oe.current||I(!0))}),[z]),e.React.useEffect((()=>{let e=!1;return function(){M(this,void 0,void 0,(function*(){if(console.groupCollapsed("[widget] efeito amostras:carregar base"),console.log({categoria:s,withInterest:A}),"sample"!==s)return console.log("skip"),void console.groupEnd();Ae(!0),Ce("");try{const o=yield O(A||E);e||(ae(o),console.log("[widget] amostras base",null==o?void 0:o.length))}catch(o){console.error("[widget] erro base amostras",o),e||(Ce((null==o?void 0:o.message)||"Falha ao buscar dados"),ae([]))}finally{e||(Ae(!1),console.groupEnd())}}))}(),()=>{e=!0}}),[s,A]),e.React.useEffect((()=>{let e=!1;return function(){M(this,void 0,void 0,(function*(){if(console.groupCollapsed("[widget] efeito amostras:carregar faixa API"),console.log({categoria:s,withInterest:A,faixaSetSize:z.size,hasDadosFaixaAPI:null!==re}),"sample"!==s)return console.log("skip categoria"),void console.groupEnd();if(!A)return console.log("skip sem interesse"),void console.groupEnd();if(z.size>0)return console.log("skip faixa vinda do pai"),void console.groupEnd();if(null!==re)return console.log("skip j\xe1 carregado"),void console.groupEnd();Pe(!0),ke("");try{const o=yield O(!0);e||(se(o),console.log("[widget] amostras faixa API",null==o?void 0:o.length))}catch(o){console.error("[widget] erro faixa API",o),e||(ke((null==o?void 0:o.message)||"Falha ao buscar dados do intervalo de interesse"),se([]))}finally{e||(Pe(!1),console.groupEnd())}}))}(),()=>{e=!0}}),[s,A,z,re]),e.React.useEffect((()=>{var e;console.groupCollapsed("[widget] efeito amostras:desenhar");const o=a;if(!(null==o?void 0:o.view))return console.log("skip sem view"),void console.groupEnd();if("sample"!==s)return console.log("skip categoria"),void console.groupEnd();const t=A?z.size>0?(null!=ie?ie:[]).filter((e=>z.has(Number(e.codigoPoco)))):null!==(e=null!=re?re:ie)&&void 0!==e?e:[]:null!=ie?ie:[];if(console.log("[widget] base size",t.length,"tiposSel",c),!Array.isArray(t)||0===t.length)return console.log("skip base vazia"),void console.groupEnd();if(!Array.isArray(c)||0===c.length)return console.log("skip sem tipos"),void console.groupEnd();const{view:i}=o;c.forEach((e=>{const a=t.map((o=>{var t;return{codigoPoco:o.codigoPoco,total:null!==(t=o[C[e]])&&void 0!==t?t:0}})).filter((e=>{var o;return(null!==(o=e.total)&&void 0!==o?o:0)>0}));if(console.log(`[widget] tipo=${e} dados`,a.length),function(e,o){try{const t=e.map.findLayerById(ee(o));t&&e.map.remove(t)}catch(e){}}(i,e),0===a.length)return;const r=n[e]||"rgba(0,0,0,0.5)",s=ee(e),l=`lgd_${s}`;try{d({jimuMapView:o,dados:a,colorFill:r,idCamada:s,idLegenda:l,titleLegenda:(A?"Intervalo de Interesse - ":"")+(e.charAt(0).toUpperCase()+e.slice(1)),withInterest:A});const t=i.map.findLayerById(s);console.log("[widget] camada criada?",!!t,s),t&&oe(t)}catch(e){console.error(`[amostras] falha ao gerar camada ${s}`,e)}})),console.groupEnd()}),[a,c,A,z,ie,re,s]),e.React.useEffect((()=>{let e=!1;return function(){M(this,void 0,void 0,(function*(){if(console.groupCollapsed("[widget] efeito minerais:radio"),console.log({categoria:s,mineralAnalise:ne,withInterest:A}),"minerals"!==s)return console.log("skip categoria"),void console.groupEnd();if(!ne)return console.log("skip sem analise"),void console.groupEnd();pe(null),fe(""),de([]),ge(""),Me(""),we(!0);try{const[o,t]=yield Promise.all([p(ne,A),v(ne,A)]);e||(console.log("[widget] contador/ lista recebidos",null==o?void 0:o.length,null==t?void 0:t.length),be(o),de(t))}catch(o){console.error("[widget] erro fetch minerais",o),e||(Me((null==o?void 0:o.message)||"Falha ao buscar minerais"),be([]),de([]))}finally{e||(we(!1),console.groupEnd())}}))}(),()=>{e=!0}}),[s,ne,A]),e.React.useEffect((()=>{console.groupCollapsed("[widget] efeito minerais:desenhar base"),console.log({categoria:s,hasJMV:!!(null==a?void 0:a.view),mineralAnalise:ne,dadosMineraisLen:null==he?void 0:he.length,withInterest:A,faixaSetSize:z.size});try{if("minerals"!==s)return console.log("skip categoria");if(!(null==a?void 0:a.view))return console.log("skip view");if(!ne)return console.log("skip mineralAnalise");if(!Array.isArray(he))return console.log("skip dadosMinerais null");const e=A&&z.size>0?he.filter((e=>z.has(Number(e.codigoPoco)))):he;if(console.log("[widget] base para desenhar",e.length),0===e.length)return console.warn("[widget] base vazia \u2014 nada a plottar");w(a,e,ne,A)}finally{console.groupEnd()}}),[a,s,ne,he,A,z]),e.React.useEffect((()=>{let e=!1;return function(){M(this,void 0,void 0,(function*(){var o;if(console.groupCollapsed("[widget] efeito minerais:coloriza\xe7\xe3o agrupador"),console.log({categoria:s,hasJMV:!!(null==a?void 0:a.view),mineralAnalise:ne,mineralSelecionado:me,agrupador:ve,withInterest:A}),!("minerals"===s&&(null==a?void 0:a.view)&&ne&&me&&ve))return console.log("skip"),void console.groupEnd();try{const t=yield f(ne,me.nomeResumidoMineral,A);console.log("[widget] agrupador dados",null==t?void 0:t.length,null===(o=null==t?void 0:t.slice)||void 0===o?void 0:o.call(t,0,10)),e||(yield function(e,o,t,i){return u(this,void 0,void 0,(function*(){var a,r,s,n,l,c,d,u,g;console.groupCollapsed("[minerals] aplicarColorizacaoPorAgrupador");try{const{view:m}=e,p=null===(a=null==m?void 0:m.map)||void 0===a?void 0:a.findLayerById(h(o));if(!p)return void console.warn("[minerals] camada base n\xe3o encontrada");if(!Array.isArray(t)||0===t.length)return void console.warn("[minerals] agrupadores vazios");const v=new Map;for(const e of t)v.set(Number(e.codigoPoco),e);const f="md_val";console.time("[minerals] queryFeatures base");const b=yield p.queryFeatures({where:"1=1",returnGeometry:!0,outFields:["*"]});console.timeEnd("[minerals] queryFeatures base");const y=[];let w=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY;for(const e of b.features){const o=Number(null!==(d=null!==(l=null!==(s=null===(r=e.attributes)||void 0===r?void 0:r.POCO_CD_POCO)&&void 0!==s?s:null===(n=e.attributes)||void 0===n?void 0:n.codigoPoco)&&void 0!==l?l:null===(c=e.attributes)||void 0===c?void 0:c.poco)&&void 0!==d?d:null===(u=e.attributes)||void 0===u?void 0:u.codigo),t=v.get(o);let a=0;t&&(a="analise"===i?t.qtAnalise:"media"===i?t.valorMedio:t.valorMaximo),e.attributes[f]=a,w=Math.min(w,a),x=Math.max(x,a),y.push(e)}console.log("[minerals] intervalo valores",{minVal:w,maxVal:x,updates:y.length}),y.length>0&&(console.time("[minerals] applyEdits"),yield p.applyEdits({updateFeatures:y}),console.timeEnd("[minerals] applyEdits"));const M=x-w,E=e=>"analise"===i?`${e}`:`${e} %`;let A;if(M<3)A=[{value:w,color:"rgb(249,238,225)",label:E(w)},{value:x,color:"rgb(165,60,2)",label:E(x)}];else if(M<5){const e=Math.round(M/4)||1;A=[{value:w,color:"rgb(249,238,225)",label:E(w)},{value:w+2*e,color:"rgb(253,142,55)",label:E(w+2*e)},{value:x,color:"rgb(165,60,2)",label:E(x)}]}else{const e=Math.round(M/4)||1;A=[{value:w,color:"rgb(249,238,225)",label:E(w)},{value:w+1*e,color:"rgb(251,190,130)",label:E(w+1*e)},{value:w+2*e,color:"rgb(253,142,55)",label:E(w+2*e)},{value:x-1*e,color:"rgb(233,85,6)",label:E(x-1*e)},{value:x,color:"rgb(165,60,2)",label:E(x)}]}const R=(null===(g=p.renderer)||void 0===g?void 0:g.clone)?p.renderer.clone():p.renderer,P={type:"color",field:f,legendOptions:{title:""},stops:A};R.visualVariables=[P],p.renderer=R,console.log("[minerals] visualVariables aplicadas")}catch(e){console.error("[minerals] ERRO aplicarColorizacaoPorAgrupador",e)}finally{console.groupEnd()}}))}(a,ne,t,ve),console.log("[widget] coloriza\xe7\xe3o aplicada"))}catch(e){console.error("Falha ao aplicar coloriza\xe7\xe3o por agrupador",e)}finally{console.groupEnd()}}))}(),()=>{e=!0}}),[a,s,ne,me,ve,A]);const ze=e.React.useCallback((()=>{m([]),y(!1),I(!1),l(""),ae(null),se(null),le(""),be(null),Me(""),we(!1),de([]),ge(""),pe(null),fe(""),Oe.current=!1}),[]),Ne=e.React.useCallback((()=>{const e=null==a?void 0:a.view;e&&(function(e){var o,t,i,a,r,s;try{(null!==(s=null!==(i=null===(t=null===(o=e.map.allLayers)||void 0===o?void 0:o.toArray)||void 0===t?void 0:t.call(o))&&void 0!==i?i:null===(r=null===(a=e.map.layers)||void 0===a?void 0:a.toArray)||void 0===r?void 0:r.call(a))&&void 0!==s?s:[]).forEach((o=>{var t;String(null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"").startsWith("amostras_")&&e.map.remove(o)}))}catch(e){}}(e),function(e){var o,t,i,a,r,s;try{const n=null!==(s=null!==(i=null===(t=null===(o=e.map.allLayers)||void 0===o?void 0:o.toArray)||void 0===t?void 0:t.call(o))&&void 0!==i?i:null===(r=null===(a=e.map.layers)||void 0===a?void 0:a.toArray)||void 0===r?void 0:r.call(a))&&void 0!==s?s:[],l=[];n.forEach((e=>{var o;const t=String(null!==(o=null==e?void 0:e.id)&&void 0!==o?o:"");/^minerais_/i.test(t)&&l.push(e)})),l.forEach((o=>e.map.remove(o))),console.log("[widget] clearMinerais -> removidas",l.map((e=>e.id)))}catch(e){console.warn("[widget] clearMinerais falhou",e)}}(e)),ze()}),[a,ze]);e.React.useEffect((()=>{if(!(null==a?void 0:a.view))return;const e=je.current;if(!e)return;const o=Y(e);if(!o)return;const t=o.querySelector('button[aria-label="Close"], button[title="Close"], button[aria-label="Fechar"], button[title="Fechar"], [data-action="close"]');return t?(t.addEventListener("click",Ne),()=>t.removeEventListener("click",Ne)):void 0}),[a,Ne]),e.React.useEffect((()=>{const e=je.current;if(!e)return;const o=Y(e);if(!o)return;let t=!Z(o);const i=()=>{const e=Z(o);t&&e?(Ne(),t=!1):t||e||(t=!0)},a=new MutationObserver(i);return a.observe(o,{attributes:!0,attributeFilter:["style","class","aria-hidden"]}),i(),()=>a.disconnect()}),[Ne]),e.React.useEffect((()=>{const e=e=>{"Escape"===e.key&&Ne()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[Ne]);const De=e.React.useMemo((()=>{var e;if("sample"!==s)return[];const o=A?z.size>0?(null!=ie?ie:[]).filter((e=>z.has(Number(e.codigoPoco)))):null!==(e=null!=re?re:ie)&&void 0!==e?e:[]:null!=ie?ie:[];return c.map((e=>{const t=n[e],i=o.map((o=>{var t;return{codigoPoco:o.codigoPoco,total:null!==(t=o[C[e]])&&void 0!==t?t:0}}));let a=Q(i,t).reverse();return b||(a=a.filter((e=>e.count>0||e.label.startsWith("| 0 |")))),{tipo:e,rows:a}}))}),[c,b,A,z,ie,re,s]),Fe=e.React.useMemo((()=>{if("minerals"!==s)return null;if(!ne)return null;if(!Array.isArray(he)||0===he.length)return null;const e=A&&z.size>0?he.filter((e=>z.has(Number(e.codigoPoco)))):he,o=(A?"Intervalo de Interesse - ":"")+x(ne);if(!e.length)return{title:o,rows:[]};let t=Q(e.map((e=>({total:e.totalMinerais}))),"rgb(253,142,55)").reverse();return b||(t=t.filter((e=>e.count>0||e.label.startsWith("| 0 |")))),{title:o,rows:t}}),[s,ne,he,A,z,b]),Te=Array.isArray(ie)&&ie.length>0||Array.isArray(re)&&re.length>0;e.React.useMemo((()=>{const e=(ue||"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();return(ce||[]).filter((o=>(o.nomeMineral||"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().includes(e)))}),[ce,ue]),g.slice(0,4),g.slice(4);return(0,e.jsx)("div",{css:T,ref:je},(0,e.jsx)(e.Global,{styles:N}),(0,e.jsx)("label",{css:L},"Selecione a distribui\xe7\xe3o"),(0,e.jsx)("select",{css:_,value:s,onChange:e=>l(e.target.value)},(0,e.jsx)("option",{value:""},"Selecione o tipo"),(0,e.jsx)("option",{value:"sample"},"Distribui\xe7\xe3o de amostras"),(0,e.jsx)("option",{value:"minerals"},"Distribui\xe7\xe3o de Minerais")),"sample"===s&&(0,e.jsx)(e.React.Fragment,null,Ee&&(0,e.jsx)("div",{style:{marginBottom:8}},"Carregando base\u2026"),!!Ie&&(0,e.jsx)("div",{style:{color:"#b00",marginBottom:8}},"Erro: ",Ie),A&&Re&&(0,e.jsx)("div",{style:{marginBottom:8}},"Carregando intervalo de interesse\u2026"),A&&!!Se&&(0,e.jsx)("div",{style:{color:"#b00",marginBottom:8}},"Erro: ",Se),Te&&(0,e.jsx)("div",{css:V},S.map((o=>(0,e.jsx)("label",{key:o,css:$},(0,e.jsx)("input",{type:"checkbox",checked:c.includes(o),onChange:()=>m((e=>e.includes(o)?e.filter((e=>e!==o)):[...e,o]))}),(0,e.jsx)("span",{className:"lbl"},o.charAt(0).toUpperCase()+o.slice(1))))))),"minerals"===s&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{css:q},g.map((o=>(0,e.jsx)("label",{key:o.value,css:$,"data-key":o.value},(0,e.jsx)("input",{type:"radio",name:"mineral-analise",checked:ne===o.value,onChange:()=>le(o.value)}),(0,e.jsx)("span",{className:"lbl"},o.label))))),ye&&(0,e.jsx)("div",{style:{marginBottom:8}},"Carregando minerais\u2026"),!!xe&&(0,e.jsx)("div",{style:{color:"#b00",marginBottom:8}},"Erro: ",xe)),"sample"===s&&De.length>0&&(0,e.jsx)("div",{css:U},De.map((o=>(0,e.jsx)(e.React.Fragment,{key:o.tipo},(0,e.jsx)("div",{css:D},A?"Intervalo de Interesse - ":"",o.tipo.charAt(0).toUpperCase()+o.tipo.slice(1)),o.rows.map(((t,i)=>(0,e.jsx)("div",{key:`${o.tipo}-${i}`,css:W},(0,e.jsx)("div",{css:F},(0,e.jsx)("svg",{width:t.size,height:t.size},(0,e.jsx)("circle",{cx:t.size/2,cy:t.size/2,r:t.size/2,fill:t.cor}))),(0,e.jsx)("span",{css:B},t.label)))))))),"minerals"===s&&Fe&&(0,e.jsx)("div",{css:U},(0,e.jsx)("div",{css:D},Fe.title),Fe.rows.map(((o,t)=>(0,e.jsx)("div",{key:`min-${t}`,css:W},(0,e.jsx)("div",{css:F},(0,e.jsx)("svg",{width:o.size,height:o.size},(0,e.jsx)("circle",{cx:o.size/2,cy:o.size/2,r:o.size/2,fill:o.cor}))),(0,e.jsx)("span",{css:B},o.label))))),(De.length>0||Fe||k)&&(0,e.jsx)("div",{css:X},("sample"===s&&De.length>0||"minerals"===s&&!!Fe)&&(0,e.jsx)("label",{css:G,title:"Exibir tamb\xe9m classes sem po\xe7os"},(0,e.jsx)("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked)}),"Exibir classes vazias"),k&&(0,e.jsx)("label",{css:J,title:"Quando marcado, aplica o filtro de Intervalo de Interesse (c\xf3digos vindos do Explora ou via API)"},(0,e.jsx)("input",{type:"checkbox",checked:A,onChange:e=>{Oe.current=!0,I(e.target.checked)}}),"Intervalo de interesse")),(0,e.jsx)(o.JimuMapViewComponent,{useMapWidgetId:null===(i=t.useMapWidgetIds)||void 0===i?void 0:i[0],onActiveViewChange:r}))}function ie(e){l.p=e}})(),c})())}}}));